{% extends 'base.html.twig' %}

{% block title %} Valeurs {% endblock %}

{% block body %}

    <a class="btn btn-link" href="/ref" role="button"><img src="/img/retour.png"></a><br><br>

<div class="container">
  <div class="row">
    <div class="col-sm" align="left">
      <h3>Valeurs</h3>
    </div>
    <div class="col-sm" align="center">
      <div class="form-group has-search">
        <span class="fa fa-search form-control-feedback"><img src="/img/loupe.png"></span>
        <input type="search" placeholder="Chercher..." class="form-control mr-sm-2 search-input" data-table="valeurs"/>
      </div>
    </div>
    <div class="col-sm" align="right">
      <a class="btn btn-primary" href="/valeur/new" role="button"><img src="/img/add.png">
      <font style="opacity: 0.0;">_</font>Ajouter</a>   
    </div>
  </div>
</div>

 {% if valeurs %}
  <table id="valeurs" name="valeurs"class="table table-striped valeurs" style="padding:5px; border-spacing:5px;">
   <thead>
    <th></th>
    <th> Code Valeur</th>
    <th> Libellé Valeur</th>
    <th> Mnémonique</th>
    <th> Type Valeur</th>    
    <th> Nb Titres </th>
    <th> Nb Cod </th>
    <th> Groupe Cotation</th>
    <th> Super Secteur</th>
    <th> Actions</th>
   </thead>
    <tbody>
    {% set obs = 1 %}

     {% for val in valeurs %}
         <tr>
          <th class="pt-1 pb-1 table-primary"> {{ obs }}</th>
          <td class="pt-1 pb-1"> {{ val.CodeValeur }}</td>
          <td class="pt-1 pb-1"> {{ val.LibelleValeur }}</td>
          <td class="pt-1 pb-1"> {{ val.Mnemonique }}</td>
          <td class="pt-1 pb-1"> {% if val.TypeValeur %}{{ val.TypeValeur.CodeTypeValeur }}{% endif %}</td>
          <td class="pt-1 pb-1"> {{ val.NbTitresadmisBourse }}</td>
          <td class="pt-1 pb-1"> {{ val.NbCodFlott }}</td>
          <td class="pt-1 pb-1"> {{ val.GroupCotation }}</td>
          <td class="pt-1 pb-1"> {{ val.SuperSecteur }}</td>
          <td class="pt-1 pb-1"> 
            <a href="/valeur/edit/{{ val.id }}" class="btn btn-secondary btn-sm">Modifier</a>
            <a href="#" class="btn btn-danger delete-val btn-sm" data-id="{{ val.id }}">Supprimer</a> 
          </td>
         </tr> 
         {% set obs = obs + 1 %}
     {% endfor %}
    </tbody>
  </table>

    <script src="/js/sch/sch.js"></script>
    <script src="/js/del/val/suppval.js"></script>


  {% else %}
  <div class="alert alert-dismissible alert-primary">
  <button type="button" class="close" data-dismiss="alert">&times;</button>
  <h4 class="alert-heading">Tableau vide!</h4>
  <p class="mb-0">pas des données de valeurs.</p>
  </div> 
  {% endif %}

{% endblock %}
